<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>STEP1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" text="type/css" href="/step1app/frontend/styles/app.css" >
    <link rel="stylesheet" text="type/css" href="{{ url_for('static', filename='app.css') }}" >
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
</head>
<body style="background: rgb(252, 250, 250);">
  <div class="page-wrapper">
    <div>
      <div class="page-title">First Solar Thermal Energy Planner (STEP1)</div>
    </div>

    <div class="progress-bar">
        <div class="progress-tab">
          <i class="fa fa-check-square-o icon" style="margin-top: auto; margin-bottom: auto; margin-left: 1rem"></i>
          <div style="margin: auto">
            Geographical Inputs
          </div>
        </div>
        <div class="progress-tab">
          <i class="fa fa-check-square-o icon" style="margin-top: auto; margin-bottom: auto; margin-left: 1rem"></i>
          <div style="margin: auto">
            Process Inputs
          </div>
        </div>
        <div class="progress-tab">
          <i class="fa fa-check-square-o icon" style="margin-top: auto; margin-bottom: auto; margin-left: 1rem"></i>
          <div style="margin: auto">
            Constraint Inputs
          </div>
        </div>

        <div class="progress-tab" style="background-color: #e07700">
          <div style="margin: auto">
            Results
          </div>
        </div>
      </div>

    <form action="{{ url_for('constraints') }}" method="post">
      <button type="submit" class="results-button" style="margin-left: 0; width: 5rem; height: 2rem;">
        <i class="fa fa-long-arrow-left arrow-icon"></i>
        <div class="button-text">
          Back
        </div>
      </button>
    </form>

    <div>
      <div class="section-title">Results</div>
    </div>

    <div>
      <h2>
        Hemisphere:
      </h2>
      {{ hemisphere }}
    </div>
    <div>
      <h2>
        Total Cost:
      </h2>
      {{ total_cost }}
    </div>
    <div>
      <h2>
        Maximum Cost Exceeded:
      </h2>
      {{ max_cost_exceeded }}
    </div>
    <div>
      <h2>
        State of Charge TES:
      </h2>
      <canvas id="myChart" style="width:100%;"></canvas>
    </div>
    <div>
      <h2>
        Error:
      </h2>
      {{ error }}
    </div>

  </div>
  <script>
    const xValues = [];
    const yValues = {{soc_tes}};

    for (let i = 1; i <= 8760; i++) {
      xValues.push(i)
    }
    
    new Chart("myChart", {
      type: "line",
      data: {
        labels: xValues,
        datasets: [{
          fill: false,
          lineTension: 0,
          backgroundColor: "rgba(0,0,255,1.0)",
          borderColor: "rgba(0,0,255,0.1)",
          data: yValues
        }]
      },
      options: {
        legend: {display: false},
        scales: {
          yAxes: [{ticks: {min: 0, max:1}}]
        }
      }
    });
  </script>
</body>
</html>
